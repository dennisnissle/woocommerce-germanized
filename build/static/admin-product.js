jQuery((function(e){var t={warranty_upload_file_frame:!1,upload_file_frame:!1,params:{},init:function(){var n=t;n.params=wc_gzd_admin_product_params,e(document).on("click","a.wc-gzd-add-new-country-specific-delivery-time",n.onAddNewDeliveryTime).on("click","a.wc-gzd-remove-country-specific-delivery-time",n.onRemoveDeliveryTime).on("click",".wc-gzd-product-upload",n.onUpload).on("click",".wc-gzd-product-upload-remove",n.onRemoveUpload).on("woocommerce-product-type-change wc-gzd-product-type-change",n.onProductTypeChange).on("wc-gzd-refresh-unit-placeholder",n.onRefreshProductUnitPlaceholder).on("change",":input#_unit",n.onChangeUnit).on("wc-gzd-show-hide-panels",n.showHidePanels);try{e(document.body).on("wc-enhanced-select-init wc-gzd-enhanced-select-init",this.onEnhancedSelectInit).trigger("wc-gzd-enhanced-select-init")}catch(e){window.console.log(e)}e("input#_is_food, input#_defective_copy").on("change",(function(){n.showHidePanels()})),e("input#_defective_copy").trigger("change"),e("#the-list").on("click",".editinline",n.onQuickEdit)},onRefreshProductUnitPlaceholder:function(){var t=e(":input#_unit").find(":selected");t.length>0?e(".wc-gzd-unit-placeholder").text(t.text()):e(".wc-gzd-unit-placeholder").text("")},onChangeUnit:function(){e(document.body).trigger("wc-gzd-refresh-unit-placeholder")},onEnhancedSelectInit:function(){var n=t;e(":input.wc-gzd-enhanced-nutri-score").filter(":not(.enhanced)").each((function(){var t={minimumResultsForSearch:10,allowClear:!!e(this).data("allow_clear"),placeholder:e(this).data("placeholder"),templateResult:n.formatNutriScore};e(this).selectWoo(t).addClass("enhanced")}))},formatNutriScore:function(t){return t.id?e('<span><i class="nutri-score-select-value nutri-score-select-value-'+t.element.value+'">&#9679;</i> '+t.text+"</span>"):t.text},onProductTypeChange:function(){t.showHidePanels()},showHidePanels:function(){var t=e("input#_is_food:checked").length,n=e("input#_defective_copy:checked").length;e(".hide_if_is_food, .hide_if_defective_copy").show(),e(".show_if_is_food, .show_if_defective_copy").hide(),t?e(".show_if_is_food").show():e(".food_options.food_tab").hasClass("active")&&e(".general_options.general_tab > a").trigger("click"),n?(e(".show_if_defective_copy").show(),e("#wc-gzd-product-defect-description").show()):e("#wc-gzd-product-defect-description").hide()},onQuickEdit:function(){var t=e(this).closest("tr").attr("id");t=t.replace("post-","");var n=e("#inline_"+t);if(n.find(".gzd_delivery_time_slug").length>0){var a=n.find(".gzd_delivery_time_slug").text(),i=n.find(".gzd_delivery_time_name").text(),c=n.find(".gzd_manufacturer_slug").text(),d=n.find(".gzd_manufacturer_name").text(),o=n.find(".gzd_unit_slug").text();e('select[name="_unit"] option:selected',".inline-edit-row").attr("selected",!1).trigger("change"),e('select[name="_unit"] option[value="'+o+'"]').attr("selected","selected").trigger("change"),e('select[name="_delivery_time"] option').remove().trigger("change"),e('select[name="_manufacturer"] option').remove().trigger("change"),a&&e('select[name="_delivery_time"]').append('<option value="'+a+'" selected="selected">'+i+"</option>"),c&&e('select[name="_manufacturer"]').append('<option value="'+c+'" selected="selected">'+d+"</option>"),setTimeout((function(){var n=e("tr#edit-"+t+" .wc-gzd-term-search-quick-edit.enhanced");n.length>0&&(n.selectWoo("destroy"),n.removeClass("enhanced")),e("tr#edit-"+t+" .wc-gzd-delivery-time-select-placeholder").addClass("wc-product-search","wc-gzd-delivery-time-search").removeClass("wc-gzd-delivery-time-select-placeholder"),e("tr#edit-"+t+" .wc-gzd-manufacturer-select-placeholder").addClass("wc-product-search","wc-gzd-manufacturer-search").removeClass("wc-gzd-manufacturer-select-placeholder"),e(document.body).trigger("wc-enhanced-select-init")}),100)}},onUpload:function(n){var a=t,i=e(this),c=i.parents(".wc-gzd-product-upload-wrapper"),d=i.data("multiple"),o=c.find(".wc-gzd-product-upload-attachments"),r=i.data("input_name"),l=[];c.find('input[name="'+r+'"]').each((function(){l.push(wp.media.attachment(parseInt(e(this).val())))})),n.preventDefault(),a.upload_file_frame=wp.media.frames.customHeader=wp.media({title:i.data("choose"),library:{type:i.data("types").split(",")},button:{text:i.data("update")},multiple:i.data("multiple")}),a.upload_file_frame.on("select",(function(){a.upload_file_frame.state().get("selection").map((function(t){t=t.toJSON(),d?i.text(i.data("update")):(o.find(".wc-gzd-product-single-attachment").remove(),i.text(t.filename)),-1===e.inArray(parseInt(t.id),l)&&(l.push(t.id),t.filename&&o.append('<span class="wc-gzd-product-single-attachment" data-attachment_id="'+t.id+'">'+(d?t.filename:"")+' <a href="#" class="wc-gzd-product-upload-remove dashicons dashicons-no-alt">'+a.params.i18n_remove_attachment+'</a><input class="wc-gzd-product-attachments" type="hidden" name="'+r+'" value="'+t.id+'" /></span>'))}))})),a.upload_file_frame.on("open",(function(){var e=a.upload_file_frame.state().get("selection");!d&&l.length>0?(e.add(l),a.upload_file_frame.content.mode("browse")):(e.remove(),a.upload_file_frame.content.mode("upload"))})),a.upload_file_frame.open()},onRemoveUpload:function(){var t=e(this).closest(".wc-gzd-product-single-attachment"),n=e(this).parents(".wc-gzd-product-upload-wrapper"),a=n.find(".wc-gzd-product-upload");a.data("multiple"),t.remove();var i=n.find(".wc-gzd-product-single-attachment").length>0;return console.log(a),console.log(i),i||a.text(a.data("default_label")),!1},onAddNewDeliveryTime:function(){var t=e(this).parents("#shipping_product_data");0===t.length&&(t=e(this).parents(".woocommerce_variable_attributes"));var n=t.find(".wc-gzd-add-country-specific-delivery-time-template .wc-gzd-delivery-time-search.enhanced");n.length>0&&(n.selectWoo("destroy"),n.removeClass("enhanced"));var a=t.find(".wc-gzd-add-country-specific-delivery-time-template:first").clone();return a.removeClass("wc-gzd-add-country-specific-delivery-time-template").addClass("wc-gzd-country-specific-delivery-time-new"),t.find(".wc-gzd-new-country-specific-delivery-time-placeholder").append(a).show(),e(document.body).trigger("wc-enhanced-select-init"),!1},onRemoveDeliveryTime:function(){var t=e(this).parents(".form-row, .form-field");return t.find("select").trigger("change"),t.remove(),!1}};t.init()})),((window.germanized=window.germanized||{}).static=window.germanized.static||{})["admin-product"]={};